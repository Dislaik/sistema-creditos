<app-menu></app-menu>
<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
  
  
  <div class="container">
    <div class="mt-3 mb-5">
      <div *ngIf="role == 'cliente' || role == 'vendedor';then cliente_vendedorSimulate else simulations"></div>
      <ng-template #cliente_vendedorSimulate>
        <h2>Simular</h2>
      </ng-template>
      <ng-template #simulations>
        <h2>Simulaciones</h2>
      </ng-template>
    </div>
      
    <div *ngIf="role == 'vendedor';then vendedorSearch"></div>
    <ng-template #vendedorSearch>
      <div class="input-group mb-5">
        <div class="form-outline search-width">
          <input type="search" id="form1" class="form-control" placeholder="Buscar nombre de usuario"
          [(ngModel)]="searchCliente"/>
        </div>
        <button type="button" class="btn btn-primary" (click)="search()">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </ng-template>
      
      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Nombre completo</label>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="inputFullName" [(ngModel)]="fullName" disabled>
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Fecha de nacimiento</label>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="inputDateOfBirth" [(ngModel)]="dateOfBirth" disabled>
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Dirección</label>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="inputAddress" [(ngModel)]="address" disabled>
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Estado Civil</label>
        <div class="col-sm-5">
          <select class="form-control" name="selectedCivilStatus" [(ngModel)]="selectedCivilStatus">
            <option [ngValue]="option" *ngFor="let option of optionsCivilStatus" value="option">{{option.name}}</option>
          </select>
        </div>
      </div>

      


      <div class="mb-3 row mt-5">
        <label for="inputPassword" class="col-sm-7 col-form-label">Trabajo</label>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="inputJob" [(ngModel)]="job">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Tipo de contrato</label>
        <div class="col-sm-5">
          <select class="form-control" name="selectedJobContract" [(ngModel)]="selectedJobContract">
            <option [ngValue]="option" *ngFor="let option of optionsJobContract" value="option">{{option.name}}</option>
          </select>
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">AFP</label>
        <div class="col-sm-5">
          <select class="form-control" name="selectedAFP" [(ngModel)]="selectedAFP">
            <option [ngValue]="option" *ngFor="let option of optionsAFP" value="option">{{option.name}}</option>
          </select>
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Sueldo Base</label>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="inputsalary" [(ngModel)]="salary" onkeypress="return isNumber(event)">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Honorarios</label>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="inputhonorarium" [(ngModel)]="honorarium" onkeypress="return isNumber(event)">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Monto por solicitar</label>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="inputrequestedAmount" [(ngModel)]="requestedAmount" onkeypress="return isNumber(event)">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Cantidad de cuotas</label>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="inputfeesAmount" [(ngModel)]="feesAmount" onkeypress="return isNumber(event)">
        </div>
      </div>

      <div class="d-flex flex-row-reverse bd-highlight mb-3">
        <div class="form-check col-2">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" [(ngModel)]="lienInsurance">
          <label class="form-check-label" for="flexCheckDefault">
            Seguro desgravamen
          </label>
        </div>
      </div>
      <div class="d-flex flex-row-reverse bd-highlight mb-3">
        <div class="form-check col-2">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" [(ngModel)]="unemploymentInsurance">
          <label class="form-check-label" for="flexCheckChecked">
            Seguro de cesantía
          </label>
        </div>
      </div>
      
      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Tipo de pago</label>
        <div class="col-sm-5">
          <select class="form-control" name="selectedPaymentType" [(ngModel)]="selectedPaymentType">
            <option [ngValue]="option" *ngFor="let option of optionsPaymentType" value="option">{{option.name}}</option>
          </select>
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Fotocopia de cedula de identidad</label>
        <div class="col-sm-5">
          <input class="form-control" type="file" id="formFile" [(ngModel)]="dniFile">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Liquidaciones (Ultimos 12 meses)</label>
        <div class="col-sm-5">
          <input class="form-control" type="file" id="formFile" [(ngModel)]="liquidationFile">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Certificado de contrato (Antiguedad de 1 año)</label>
        <div class="col-sm-5">
          <input class="form-control" type="file" id="formFile" [(ngModel)]="jobContractFile">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Certificado de cotizaciones AFP</label>
        <div class="col-sm-5">
          <input class="form-control" type="file" id="formFile" [(ngModel)]="afpFile">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Certificado de deuda SBIF</label>
        <div class="col-sm-5">
          <input class="form-control" type="file" id="formFile" [(ngModel)]="sbifFile">
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-7 col-form-label">Boleta de luz o agua</label>
        <div class="col-sm-5">
          <input class="form-control" type="file" id="formFile" [(ngModel)]="electricityWaterTicketFile">
        </div>
      </div>

      <div class="d-flex justify-content-start mt-5">
        <label for="inputPassword" class="col-3">Monto total del credito: {{totalAmountCredit}}$</label>
        <label for="inputPassword" class="col-2">Taza de interés: {{interestRate}}%</label>
        <label for="inputPassword" class="col-3">Valor por cuota: {{eachAmountFee}}$</label>
      </div>

      <div class="d-flex bd-highlight mt-5 justify-content-center mb-5">
        <button class="p-2 bd-highlight btn btn-primary" (click)="simulate()">
            <i class="fa fa-solid fa-user"></i> Simular credito
        </button>
        <button class="p-2 bd-highlight btn btn-primary ms-5" (click)="send()">
          <i class="fa fa-solid fa-user"></i> Enviar simulación
      </button>
    </div>


   </div>
</main>
